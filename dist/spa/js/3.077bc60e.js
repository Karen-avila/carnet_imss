(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{acb6:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row q-py-md q-px-xl"},[a("div",{staticClass:"col"},[a("span",{staticClass:"text-h4"},[t._v("Carnet")]),a("q-separator",{attrs:{color:"grey-4",size:"2px"}}),a("q-separator",{staticClass:"q-mb-md",staticStyle:{"max-width":"2.5rem"},attrs:{color:"secondary",size:".5rem"}}),a("q-form",[a("p",[t._v("INGRESA LOS DATOS DEL PACIENTE")]),a("div",{staticClass:"row q-gutter-md"},[a("div",{staticClass:"col"},[a("q-input",{attrs:{outlined:"",dense:"",label:"CURP","lazy-rules":""},model:{value:t.form.curp,callback:function(e){t.$set(t.form,"curp",e)},expression:"form.curp"}})],1),a("div",{staticClass:"col"},[a("q-input",{attrs:{outlined:"",dense:"",label:"Numero de seguridad social","lazy-rules":""},model:{value:t.form.nss,callback:function(e){t.$set(t.form,"nss",e)},expression:"form.nss"}})],1),a("div",{staticClass:"col"},[a("q-input",{attrs:{outlined:"",dense:"",label:"Unidad Médica","lazy-rules":""},model:{value:t.form.unidad_medica_atencion,callback:function(e){t.$set(t.form,"unidad_medica_atencion",e)},expression:"form.unidad_medica_atencion"}})],1)]),a("div",{staticClass:"row q-gutter-md q-mt-sm"},[a("div",{staticClass:"col"},[a("q-input",{attrs:{outlined:"",dense:"",label:"Nombre del paciente","lazy-rules":""},model:{value:t.form.nombre_paciente,callback:function(e){t.$set(t.form,"nombre_paciente",e)},expression:"form.nombre_paciente"}})],1),a("div",{staticClass:"col"},[a("q-input",{attrs:{outlined:"",dense:"",label:"Apellido paterno","lazy-rules":""},model:{value:t.form.ap_paterno_paciente,callback:function(e){t.$set(t.form,"ap_paterno_paciente",e)},expression:"form.ap_paterno_paciente"}})],1),a("div",{staticClass:"col"},[a("q-input",{attrs:{outlined:"",dense:"",label:"Apellido materno","lazy-rules":""},model:{value:t.form.ap_materno_paciente,callback:function(e){t.$set(t.form,"ap_materno_paciente",e)},expression:"form.ap_materno_paciente"}})],1)]),a("div",{staticClass:"row q-gutter-md q-mt-sm"},[a("div",{staticClass:"col"},[a("q-input",{attrs:{outlined:"",dense:"",label:"Diagnostico","lazy-rules":""},model:{value:t.form.diagnostico_cie10,callback:function(e){t.$set(t.form,"diagnostico_cie10",e)},expression:"form.diagnostico_cie10"}})],1),a("div",{staticClass:"col"}),a("div",{staticClass:"col"})]),a("div",{staticClass:"q-mt-md"},[a("q-btn",{ref:"searchPatient",staticStyle:{"min-width":"160px"},attrs:{loading:t.searching,color:"accent",outline:""},on:{click:t.search},scopedSlots:t._u([{key:"loading",fn:function(){return[a("q-spinner-hourglass",{staticClass:"on-left"}),t._v("Buscando...")]},proxy:!0}])},[t._v(t._s(0===t.pacientes.length?"Buscar paciente":"Buscar otro paciente"))]),a("q-btn",{staticClass:"q-ml-sm",attrs:{label:"Limpiar",color:"grey-6",flat:""},on:{click:t.reset}})],1)])],1)]),a("div",{staticClass:"row q-px-xl q-mb-xl"},[a("div",{staticClass:"col"},[[t.paciente?t._e():a("q-banner",{staticClass:"bg-warning text-center alert-banner q-mb-md",attrs:{"inline-actions":"",rounded:"",dense:""}},[a("span",[t._v(t._s(t.pacientes.length?t.pacientes.length+" Pacientes encontrados":"Busca un paciente para ver los resultados"))])]),t.pacientes.length?a("q-table",{attrs:{data:t.pacientes,columns:t.columns,"row-key":"name",flat:"",dense:t.$q.screen.lt.md,"rows-per-page-options":[10,25,50],"rows-per-page-label":"Pacientes por página"},scopedSlots:t._u([{key:"body-cell",fn:function(e){return[a("q-td",{staticClass:"cursor-pointer",attrs:{props:e},on:{click:function(a){return t.setPatient(e.row)}}},["nombre_paciente"===e.col.field?a("span",[t._v(t._s(e.value)+" "+t._s(e.row.ap_paterno_paciente)+" "+t._s(e.row.ap_materno_paciente))]):"edad"===e.col.field?a("span",[t._v(t._s(e.value)+" años")]):"actions"===e.col.field?a("span",[a("q-icon",{attrs:{name:"person_search",size:"md",color:"accent"}})],1):a("span",[t._v(t._s(e.value))])])]}}],null,!1,3751027623)}):t._e()],t.paciente?[a("q-banner",{staticClass:"text-center alert-banner alert-img-carnet q-mb-md q-py-lg q-px-xl",attrs:{"inline-actions":"",rounded:"",dense:""}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col text-left"},[a("span",{staticClass:"text-weight-bold"},[t._v("Nombre:")]),a("br"),a("span",[t._v(t._s(t.paciente.nombre_paciente)+" "+t._s(t.paciente.ap_paterno_paciente)+" "+t._s(t.paciente.ap_materno_paciente))])]),a("div",{staticClass:"col text-left"},[a("span",{staticClass:"text-weight-bold"},[t._v("CURP:")]),a("br"),a("span",[t._v(t._s(t.paciente.curp))])]),a("div",{staticClass:"col text-left"},[a("span",{staticClass:"text-weight-bold"},[t._v("NSS:")]),a("br"),a("span",[t._v(t._s(t.paciente.nss))])])]),a("div",{staticClass:"row q-mt-md"},[a("div",{staticClass:"col text-left"},[a("span",{staticClass:"text-weight-bold"},[t._v("Fecha de nacimiento:")]),a("br"),a("span",[t._v(t._s(t._f("DateTime")(t.paciente.fecha_nacimiento.$date)))])]),a("div",{staticClass:"col text-left"},[a("span",{staticClass:"text-weight-bold"},[t._v("Edad:")]),a("br"),a("span",[t._v(t._s(t.paciente.edad)+" años")])]),a("div",{staticClass:"col text-left"},[a("span",{staticClass:"text-weight-bold"},[t._v("Peso:")]),a("br"),a("span",[t._v(t._s(t.paciente.peso)+" Kg")])])]),a("div",{staticClass:"row q-mt-md"},[a("div",{staticClass:"col text-left"},[a("span",{staticClass:"text-weight-bold"},[t._v("Agregado médico:")]),a("br"),a("span",[t._v(t._s(t.paciente.agregado_medico))])]),a("div",{staticClass:"col text-left"}),a("div",{staticClass:"col text-left"})])]),a("q-banner",{staticClass:"text-center no-padding q-mb-md",attrs:{"inline-actions":"",rounded:"",dense:""}},[a("div",{staticClass:"row bg-grey-2 q-py-sm"},[a("div",{staticClass:"col"},[a("span",{staticClass:"text-weight-bold text-center"},[t._v("DIAGNOSTICO")])]),a("div",{staticClass:"col"},[a("span",{staticClass:"text-weight-bold text-center"},[t._v("INFORMACIÓN")])])]),a("div",{staticClass:"row bg-grey-4 q-py-sm"},[a("div",{staticClass:"col"},[a("span",{staticClass:"text-center"},[t._v(t._s(t.paciente.diagnostico_cie10))])]),a("div",{staticClass:"col"},[a("span",{staticClass:"text-center"},[t._v("Tipo mezcla: "+t._s(t.paciente.tipo_mezcla))])])])]),t._l(t.carnets,(function(e,s){return a("q-list",{key:s,staticClass:"q-mb-md",attrs:{bordered:""}},[a("q-expansion-item",{staticClass:"bg-grey-2",attrs:{group:"somegroup",icon:"explore"},scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"col"},[a("q-item-section",[a("p",{staticClass:"no-margin"},[t._v("Unidad de atención")]),a("p",{staticClass:"no-margin text-weight-bold"},[t._v(t._s(e.unidad_medica_atencion?e.unidad_medica_atencion:"-"))])])],1),a("div",{staticClass:"col"},[a("q-item-section",[a("p",{staticClass:"no-margin"},[t._v("Médico")]),a("p",{staticClass:"no-margin text-weight-bold"},[t._v(t._s(e.medico?e.medico:"-"))])])],1),a("div",{staticClass:"col"},[a("q-item-section",[a("p",{staticClass:"no-margin"},[t._v("Cama")]),a("p",{staticClass:"no-margin text-weight-bold"},[t._v(t._s(e.cama?e.cama:"-"))])])],1),a("div",{staticClass:"col"},[a("q-item-section",[a("p",{staticClass:"no-margin"},[t._v("Fecha")]),a("p",{staticClass:"no-margin text-weight-bold"},[t._v(t._s(t._f("DateTime")(e.fecha_prescripcion.$date?e.fecha_prescripcion.$date:null)))])])],1)]},proxy:!0}],null,!0)},[a("q-markup-table",{attrs:{flat:""}},[a("thead",[a("tr",[a("th",{staticClass:"text-center"},[t._v("Genérico")]),a("th",{staticClass:"text-center"},[t._v("Consumo")]),a("th",{staticClass:"text-center"},[t._v("Cantidad")]),a("th",{staticClass:"text-center"},[t._v("Entregado")])])]),a("tbody",t._l(e.carnet,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"text-center"},[t._v(t._s(e.generico))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.consumo)+" "+t._s(e.unidad_medida))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.cantidad_bolos))]),a("td",{staticClass:"text-center"},[a("q-icon",{attrs:{color:"ENTREGADO"===e.entregado?"positive":"negative",name:"ENTREGADO"===e.entregado?"done":"clear"}}),a("span",{attrs:{color:"ENTREGADO"===e.entregado?"":"negative"}},[t._v(t._s(e.motivo))])],1)])})),0)])],1)],1)}))]:t._e()],2)])])},n=[],i=(a("d3b7"),a("e6cf"),a("a79d"),a("ded3")),c=a.n(i),o=(a("e260"),a("ac1f"),a("25f0"),a("3ca3"),a("841c"),a("ddb0"),a("2b3d"),"https://msapop-consulta-apop-qa.cloudapps.imss.gob.mx"),l={init:function(t){return{method:t,headers:this.setHeaders()}},setHeaders:function(){var t=new Headers;return t},url:function(t){return new URL(o+t)},getUrl:function(t,e){var a=this.url(t);return a.search=new URLSearchParams(e).toString(),a},post:function(t,e){var a=this.init("POST");return a.body=JSON.stringify(e),fetch(this.url(t),a)},get:function(t,e){var a=this.init("GET");return fetch(this.getUrl(t,e),a)}},r=l,d="/api/v1/getPadrones",p="/api/v1/getCarnet",m=a("2f62"),u={data:function(){return{searching:!1,form:{curp:"",nss:"",unidad_medica_atencion:"",nombre_paciente:"",ap_paterno_paciente:"",ap_materno_paciente:"",diagnostico_cie10:""},columns:[{label:"NSS",field:"nss",align:"left"},{label:"CURP",field:"curp",align:"left"},{label:"Nombre",field:"nombre_paciente",align:"left"},{label:"Edad",field:"edad",align:"left"},{label:"Diagnostico",field:"diagnostico_cie10",align:"left"},{label:"Acciones",field:"actions",align:"left"}],pacientes:[],paciente:null,carnets:[]}},methods:{search:function(){var t=this;this.paciente=null,this.searching=!0,r.get(d,this.form).then((function(t){return t.json()})).then((function(e){t.pacientes=e})).finally((function(){t.searching=!1}))},setPatient:function(t){var e=this;this.pacientes={},r.get(p,t).then((function(t){return t.json()})).then((function(t){console.log(t),e.paciente=t[0],e.carnets=t}))},reset:function(){this.pacientes=[],this.paciente=null,this.carnets=[]}},computed:c()({},Object(m["b"])(["currentUser"]))},_=u,v=(a("ebaa"),a("2877")),f=a("eb85"),b=a("0378"),g=a("27f9"),C=a("9c40"),h=a("9149"),x=a("54e1"),q=a("eaac"),w=a("db86"),y=a("0016"),k=a("1c1c"),S=a("3b73"),E=a("4074"),N=a("2bb1"),T=a("eebe"),P=a.n(T),Q=Object(v["a"])(_,s,n,!1,null,"3c6a2e18",null);e["default"]=Q.exports;P()(Q,"components",{QSeparator:f["a"],QForm:b["a"],QInput:g["a"],QBtn:C["a"],QSpinnerHourglass:h["a"],QBanner:x["a"],QTable:q["a"],QTd:w["a"],QIcon:y["a"],QList:k["a"],QExpansionItem:S["a"],QItemSection:E["a"],QMarkupTable:N["a"]})},ba88:function(t,e,a){},ebaa:function(t,e,a){"use strict";var s=a("ba88"),n=a.n(s);n.a}}]);